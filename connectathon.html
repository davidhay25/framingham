<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Connectathon</title>

    <script src="js/libs/jquery-1.9.0.min.js"></script>

    <script src="js/libs/angular.min1-5.js"></script>
    <script src="js/libs/ui-bootstrap-tpls-2.0.1.min.js"></script>
    <script src="js/libs/moment.min.js"></script>




    <link rel="stylesheet" type="text/css" href="css/angular-lightweight-markdown-editor.css"/>

    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>

    <link rel="stylesheet" type="text/css" href="css/vis.min.css"/>

    <link rel="stylesheet" type="text/css" href="css/jsTreeStyle.css"/>
    <link rel="stylesheet" type="text/css" href="css/jsTreeThemes/proton/style.css"/>

    <script src="js/libs/ngStorage.min.js"></script>

    <script src="js/libs/angular-sanitize.js"></script>

    <!-- http://jtblin.github.io/angular-chart.js/ -->
    <script src="js/libs/Chart.min.js"></script>
    <script src="js/libs/angular-chart.js"></script>

    <script>
        angular.module("sampleApp",['monospaced.elastic','ui.checkbox','ui.bootstrap','ngSanitize','ngStorage','chart.js',"angular-lightweight-markdown-editor"]).
        config(function($locationProvider) {
            $locationProvider.hashPrefix('!');
        });

        angular.module("sampleApp").config(['$compileProvider', function ($compileProvider) {

            $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|blob):/);

        }]);
        angular.module("sampleApp").constant("moment", moment);
        window.onerror = function(message, url, linenumber) {
            alert("An unexpected error occurred: " + message + " on line " + linenumber + " for " + url);
        }

    </script>

    <style>

        /* This is for the table generated by showdown...*/
        table {
            width : 100%
        }

        .trackBorder {
            margin-bottom:8px;
            margin-top : 2px
        }

        .markdown-editor {
            border: 1px solid #ccc;
            border-radius: 2px;
        }
        .trackScroll {
            height: 750px;
            overflow-y: scroll;
        }

        .tabName {
            font-weight: bold;
            font-style: italic;
        }
        . taskDescription {
            margin-left: 10px;
        }

        .pass {
            border : 1px solid #eeeeee;
            padding : 5px;
            display: inline-block;
            text-align : center;
            width: 50px;
            margin: 0px;
            /*margin-left : 10px;*/
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
            background-color:green;
            color:white;
        }
        .fail {
            border : 1px solid #eeeeee;
            padding : 5px;
            display: inline-block;
            text-align : center;
            width: 50px;
            margin: 0px;
            /*margin-left : 10px;*/
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
            background-color:red;
            color:white;
        }
        .partial {
            border : 1px solid #eeeeee;
            padding : 5px;
            display: inline-block;
            text-align : center;
            width: 50px;
            margin: 0px;
            /*margin-left : 10px;*/
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
            background-color: #FFC200;
            color:white;

        }

        .note {
            border : 1px solid #eeeeee;
            padding : 5px;
            display: inline-block;
            text-align : center;
            width: 50px;
            margin: 0px;
            /*margin-left : 10px;*/
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
            background-color:#6E94FF;
            color:white;

        }
    </style>

    <script src="directive/vsViewer/vsViewer.js"></script>
    <script src="directive/tblResource/tblResourceDir.js"></script>



    <script src="js/libs/showdown.min.js"></script>
    <script src="js/libs/angular-lightweight-markdown-editor.min.js"></script>
    <script src="js/ecosystemCtl.js"></script>

    <script src="js/ecosystemSvc.js"></script>
    <script src="js/modalDialogSvc.js"></script>
    <script src="js/addServerToScenarioCtrl.js"></script>
    <script src="js/addClientToScenarioCtrl.js"></script>
    <script src="js/resultCtrl.js"></script>
    <script src="js/downloadCtrl.js"></script>
    <script src="js/addClientCtrl.js"></script>
    <script src="js/addServerCtrl.js"></script>
    <script src="js/editPersonCtrl.js"></script>
    <script src="js/ecoUtilitiesSvc.js"></script>
    <script src="js/editTrackCtrl.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/editScenarioCtrl.js"></script>
    <script src="js/loginCtrl.js"></script>
    <script src="js/cofCtrl.js"></script>
    <script src="js/cofSvc.js"></script>
    <script src="js/cofSummaryCtrl.js"></script>
    <script src="js/lmCheckCtrl.js"></script>
    <script src="js/libs/angular-bootstrap-checkbox.js"></script>
    <script src="js/libs/vis.min.js"></script>
    <script src="js/modellerFilters.js"></script>

    <script src="js/libs/elastic.js"></script>
    <script src="js/editRoleCtrl.js"></script>
    <script src="js/lmSummaryCtrl.js"></script>
    <script src="js/getDatatypeValueCtrl.js"></script>
    <script src="js/getDatatypeValueSvc.js"></script>
    <script src="js/allNotes.js"></script>
    <script src="js/importGraphCtl.js"></script>
    <script src="js/addElementCtrl.js"></script>
    <script src="js/addProfileToScenario.js"></script>
    <script src="js/touchStone.js"></script>

    <script src="js/libs/jstree.min.js"></script>

    <script src="js/selectPatientResourceCtrl.js"></script>

    <script src="js/querySvc.js"></script>
    <script src="js/importTrack.js"></script>
    <!---->
    <script src="js/igCtrl.js"></script>


    <!-- for the 3d graph
    <script src="//unpkg.com/3d-force-graph@1"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/qwest/4.4.5/qwest.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.4/papaparse.min.js"></script>
    <script src="//unpkg.com/three"></script>
    <script src="//unpkg.com/three-spritetext"></script>
     -->

</head>
<body style="padding: 8px;padding-top: 80px" >

<div ng-app="sampleApp" ng-controller="ecosystemCtrl" class="container-fluid">

    <nav class="navbar navbar-default navbar-fixed-top" ng-style="navBarStyle" role="navigation">

        <div class="container-fluid row">
            <div class="col-md-5 col-sm-5">
                <div>
                    <a class="navbar-brand" style="padding-top: 24px" href="#">
                        Connectathon Manager: {{eventConfig.name}}
                        <!--
                        <span ng-hide="eventConfig">No event specified.</span>
                        <span ng-show="selectedTrack"><strong>({{selectedTrack.name}} track)</strong></span>

                        -->
                    </a>
                </div>


                <br/><br/>
                <!--

                <div class="pull-left"><a href="eventConfig.details">Details</a> </div>
                -->
            </div>




            <div class="col-md-3 col-sm-3">

                <div class="navbar-text">
                    <div ng-show="ecosystemSvc.getCurrentUser()">
                        {{ecosystemSvc.getCurrentUser().name}}
                        <span>
                             <i class="glyphicon glyphicon-log-out"
                                ng-show = "ecosystemSvc.getCurrentUser()"
                                style="padding-top: 12px; padding-left: 10px"
                                uib-popover="Log out"
                                popover-placement="right"
                                popover-trigger="'mouseenter'"
                                title="Clear user" ng-click="clearUser()">
                            </i>
                        </span>
                    </div>

                    <div ng-hide="ecosystemSvc.getCurrentUser() || ! eventConfig">
                        <button class="btn btn-link" ng-click="loginFromNavbar()">Login</button>
                    </div>
                </div>

            </div>


            <div class="col-md-1 col-sm-1">
                <div class="navbar-text pull-right">

                    <i style="padding-top: 12px; padding-left: 10px"
                       uib-popover="Refresh data"
                       popover-placement="right"
                       popover-trigger="'mouseenter'"
                       class="glyphicon glyphicon-refresh" ng-click="refresh()"></i>
                    <!--
                    <button class="btn btn-primary pull-right"
                            ng-click="refresh()">Refresh</button>
-->
                </div>
            </div>

            <div class="col-md-3 col-sm-3">
                <div class="navbar-text pull-right">
                    <a href="https://www.lyniate.com/" target="_blank">
                        <img  src="/icons/supported_by_lyniate.png"/>
                    </a>

                </div>

            </div>
        </div>
    </nav>

    <div class="row" ng-show="eventConfig">

        <div class="col-sm-12 col-md-12">

            <uib-tabset>

                <uib-tab heading="Home Page">

                    <div ng-show="eventConfig.key == 'public' || eventConfig.key == 'con27'">


                    <h3 class="center-text">Welcome to Connectathon Manager for the May 2021 FHIR Connectathon</h3>

                    <div class="center-text">
                        <p><em  >The purpose of this application is to help support Connectathon attendees by making it
                            easier to locate tracks of interest, and to participate in those tracks, including recording feedback
                            and testing outcomes.</em></p>
                    </div>

                    <hr/>



                    <div class="row">
                        <div class="col-md-6">

                            <h4>Other Connectathon supporting resources</h4>

                            <p>This application should be used in conjunction with the other connectathon supporting applications, namely:</p>

                            <ul>

                                <li>The
                                    <a href="https://confluence.hl7.org/display/FHIR/2021+-+05+Connectathon+27" target="_blank">
                                        Connectathon home page in confluence
                                    </a>
                                </li>
                                <li>The whova Virtual Event page</li>
                                <li> <a href="https://chat.fhir.org/#recent_topics" target="_blank">
                                    Zulip chat streams (specific track links links are found with each track)</a>
                                </li>

                            </ul>


                            <h4>Getting started</h4>
                            <p>If this is your first time at the connectathon, then we suggest the following first steps.</p>

                            <ul>
                                <li>Scan the list of Tracks and Implementation Guides for tracks of interest. You probably already know your main track,
                                    but there are likely others of interest to you. You can see the tracks in the <span class="tabName">Track details and testing</span> tab and
                                    also a list of Implementation Guides being tested in the <span class="tabName">Implementation Guides</span> tab.


                                </li>
                                <li>Update your profile in the <span class="tabName">People</span> tab. Your entry will be the only one with an
                                    'edit' link alongside it - use that link to enter your email address (if you want to) and
                                    record your primary track and tracks of interest.  Ideally, you'll have a single 'primary' track and any number
                                    'tracks of interest' (Recording them here means your name
                                    will appear in the track description and <span class="tabName">Participation Report</span> so others can find you).</li>
                                <li>If you have a server that you want to test, or make it available for use in a track then
                                    enter the details on the <span class="tabName">Servers</span> tab.
                                    There's <a href="https://youtu.be/cZMTnXOdU8o" target="_blank">a short video</a> that describes
                                    this in more detail.
                                    </li>

                                <li>If you have a client application that you want to test, or make it available for use in a track then
                                    enter the details on the <span class="tabName">Clients</span> tab.</li>
                            </ul>

                            <h4>External links of interest</h4>



                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://confluence.hl7.org/display/FHIR" target="_blank">HL7 FHIR Confluence</a> </li>
                                        <li><a href="http://hl7.org/fhir/" target="_blank">FHIR R4 spec</a> </li>
                                        <li><a href="http://hl7.org/fhir/2021Mar/" target="_blank">FHIR R4b ballot spec</a> </li>
                                        <li><a href="http://hl7.org/fhir/2021May/" target="_blank">FHIR R5 draft spec</a> </li>
                                        <li><a href="https://registry.fhir.org/" target="_blank">FHIR Package Registry</a> </li>
                                        <li><a href="http://fhir.org/guides/registry/" target="_blank">FHIR Implementation Guide Registry</a> </li>

                                        <li> <a href="https://chat.fhir.org/#recent_topics" target="_blank">
                                            Zulip chat streams</a>
                                        </li>


                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://www.devdays.com/" target="_blank">Next DevDays (June 2021) </a> </li>
                                        <li><a href="https://www.devdays.com/events/" target="_blank">Videos of previous DevDays presentations </a> </li>
                                        <li><a href="https://www.youtube.com/results?search_query=fhir" target="_blank">Youtube FHIR videos </a> </li>
                                        <li><a href="http://clinfhir.com/" target="_blank">clinFHIR </a> </li>
                                        <li><a href="https://confluence.hl7.org/display/FHIR/Blogs" target="_blank">FHIR Blogs</a> </li>
                                        <li><a href="https://www.youtube.com/playlist?list=PL6yKJa-XDmyOtjwoTb4IQC9_9Q57twR-Z" target="_blank">conMan videos</a> </li>
                                        <li><a href="https://chat.fhir.org/#narrow/stream/179207-connectathon-mgmt/topic/conman-27" target="_blank">conMan help (Zulip) </a> </li>



                                    </ul>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-6">

                            <h4>Common tasks</h4>
                            <div style="margin-left: 20px">
                            <p>These are things that you will likely want to do over the course of the event</p>
                            </div>
                            <h5><em>Record your interest in a track</em></h5>
                            <div style="margin-left: 20px">
                                Go to the <span class="tabName">People</span> tab, find your name in the list and edit
                                your profile. You can record primary and tracks of interest there.
                            </div>

                            <h5><em>Register a server for others to use in one or more tracks </em></h5>

                            <div style="margin-left: 20px">

                                    This is done from the <span class="tabName">Servers</span> tab.
                                    There's <a href="https://youtu.be/cZMTnXOdU8o" target="_blank">a short video</a> that describes
                                    this in more detail.
                            </div>

                            <h5><em>Find who is testing a specific Implementation Guide</em></h5>
                            <div style="margin-left: 20px">
                                To find out the track/s that are testing an IG, look in the
                                <span class="tabName">Implementation Guide</span> tab. You'll see a list of tracks
                                alongside each IG.

                                    To find individuals working in those tracks, go to the <span class="tabName">Tracks</span> tab
                                    and select the 'Description' tab to the right. All track participants (recorded when an
                                    individual registers their interest while setting up their profile) are displayed towards
                                    the bottom. Contact details will be in that users profile (and can also be displayed by
                                    clicking on the name in the list).


                            </div>

                            <h5><em>Find a server to test against</em></h5>
                            <div style="margin-left: 20px">
                                You can look at the full server list in the
                                <span class="tabName">Servers</span> tab. If the server has been registered for use with a track, then
                                it will also appear in the track description. To view the list, select the track in the <span class="tabName">Tracks</span> tab, then the 'Servers' sub-tab
                                to the right. The servers currently associated with the track are shown at the top, other
                                servers are listed below that. Use the 'View' link to the right to view the server details
                                including associating servers with tracks.
                            </div>

                            <h5><em>Record the outcome of a test, or just add a comment/feedback</em></h5>
                            <div style="margin-left: 20px">

                                Only tracks that have been set up for testing by adding scenarios can have outcomes applied.
                                Select the track in the <span class="tabName">Tracks</span> tab, then the 'Testing' sub-tab to the right.
                                (There's also an option to add a scenario directly from the testing sub-tab if there are none). There
                                is <a href="https://youtu.be/GRcFGlnHKo0" target="_blank">a short video</a> available.

                                <ol>
                                    <li>Select the Track, then the Testing and feedback sub-tab</li>
                                    <li>Select the scenario you wish to add the feedback to. (Or add the scenario if there are none).
                                    Existing results are shown in a table</li>
                                    <li>Click the 'Add new result' link. This will display the modal dialog where the feedback
                                    can be entered</li>
                                </ol>

                            </div>

                            <h5><em>Review test results / comments for a track</em></h5>
                            <div style="margin-left: 20px">
                                These are viewed from the Tracks Testing sub-tab (where new ones can also be entered). They are
                                also visible in the Report sub-tab, which has a download option. There's
                                also a <span class="tabName">Test results</span> tab where outcomes for all tracks can be found.
                            </div>
                        </div>
                    </div>


                    </div>
                    <div ng-hide="eventConfig.key == 'public' || eventConfig.key == 'con27'">
                        Welcome to conman for the event with the key: {{eventConfig.key}}
                    </div>

                </uib-tab>

                <uib-tab heading="Track details & testing">
                    <br/>
                    <div class="row">
                        <div class="col-sm-3 col-md-3">

                            <div class="row">
                                <div class="col-sm-11 col-md-11">
                                    <input class="form-control" ng-model="input.trackFilter"
                                           placeholder="Enter string to filter Track"/>
                                </div>
                                <div class="col-sm-1 col-md-1">
                                    <i class="clickable glyphicon glyphicon-remove-sign "
                                       ng-show="input.trackFilter"
                                       style="padding-top: 8px"
                                        ng-click="input.trackFilter = ''">
                                    </i>
                                </div>
                            </div>
                            <br/>
                            <div ng-hide="tracks">
                                <br/>
                                Loading the event data from the server, please wait...
                            </div>

                            <div class="trackScroll">
                                <ul class="list-group">
                                    <li ng-class="{'list-group-item':1,'listItemSelected':selectedTrack.id == track.id}"
                                        style="cursor: pointer"
                                        ng-show="showTrack(track,input.trackFilter)"
                                        ng-repeat="track in tracks"
                                        ng-click="selectTrack(track)">

                                        <span>
                                            <i class="clickable glyphicon glyphicon-edit pull-right"
                                               title="Edit track" ng-click="editTrack(track)">
                                            </i>
                                        </span>


                                        {{track.name}}
<!--
                                        <div><em class="center-text">{{track.trackSubType}}</em></div>

                                        -->

                                    </li>
                                </ul>

                                <div>
                                    <div class="pull-right" ng-show="tracks">
                                        <button class="btn btn-link" ng-click="addTrack()">
                                            Add a new Track
                                        </button>

                                        <!-- for now, limit import. Security needs an overall review...-->
                                        <div ng-show="ecosystemSvc.getCurrentUser().name.toLowerCase() == 'david hay'">
                                            <div ng-controller="importTrackCtrl">
                                                <button class="btn btn-link" ng-click="import()">Import a track</button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>


                        </div>

                        <div class="col-sm-9 col-md-9">

                            <div  ng-show="selectedTrack">
                            <uib-tabset>
                                <uib-tab heading="Description">
                                    <br/>

                                    <div class="row">
                                        <div class="col-sm-2 col-md-2">
                                            <strong>Description</strong>
                                        </div>
                                        <div class="col-sm-6 col-md-6">




                                            <p ng-bind-html="selectedTrack.description | markDown"></p>

                                        </div>
                                        <div class="col-md-4">
                                            <div class="col-sm-6 col-md-6">
                                                <strong>Leads</strong>
                                                <ul style="padding-top: 8px" class="list-unstyled">
                                                    <li ng-repeat="lead in selectedTrack.leads">
                                                        {{lead.name}}
                                                        <div ng-show="contact.value" style="margin-left: 20px" ng-repeat="contact in lead.contact">
                                                            {{contact.type}}: {{contact.value}}
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>


                                    <br/>


                                    <div class="row">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>Track type</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">

                                            <div class="row">
                                                <div class="col-sm-12 col-md-12">
                                                    <strong>Track Type: </strong>

                                                    {{selectedTrack.trackSubType}}

                                                    <div ng-show="selectedTrack.IGs.length > 0">
                                                        <br/>

                                                        <table class="table table-bordered table-condensed">
                                                            <tr><th>Name</th><th>Description</th><th>Package / Version</th><th>IG page</th></tr>
                                                            <tr ng-repeat="ig in selectedTrack.IGs track by $index">
                                                                <td>{{ig.name}}</td>
                                                                <td>{{ig.description}}</td>
                                                                <td>
                                                                    <div ng-show="ig.package && ig.version">
                                                                        <a ng-href="https://registry.fhir.org/package/{{ig.package}}%7c{{ig.version}}"
                                                                           target="_blank">{{ig.package}} / {{ig.version}}</a>
                                                                    </div>

                                                                </td>
                                                                <td>
                                                                    <div ng-show="ig.link">
                                                                        <a ng-href="{{ig.link}}"
                                                                           target="_blank">View</a>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>





                                                    </div>

                                                </div>
<!--
                                                <div class="col-sm-6 col-md-6">
                                                    <strong>Leads</strong>
                                                    <ul style="padding-top: 8px" class="list-unstyled">
                                                        <li ng-repeat="lead in selectedTrack.leads">
                                                            {{lead.name}}
                                                            <div ng-show="contact.value" style="margin-left: 20px" ng-repeat="contact in lead.contact">
                                                                {{contact.type}}: {{contact.value}}
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                -->
                                            </div>


                                        </div>
                                    </div>






                                    <div  ng-show="selectedTrack.url">
                                        <div class="row">
                                            <hr class="trackBorder"/>
                                            <div class="col-sm-2 col-md-2">
                                                <strong>Confluence track page</strong>
                                            </div>
                                            <div class="col-sm-9 col-md-9">
                                                <div ng-hide="selectedTrack.url">No Wiki page for this track.</div>
                                                <a target="_blank" ng-show="selectedTrack.url"
                                                   ng-href="{{selectedTrack.url}}">{{selectedTrack.url}}</a> (Opens in a new tab)
                                            </div>
                                        </div>
                                        <br/>
                                    </div>



                                    <div ng-show="selectedTrack.chat">
                                        <div class="row">
                                            <hr class="trackBorder"/>
                                            <div class="col-sm-2 col-md-2">
                                                <strong>Chat link</strong>
                                            </div>
                                            <div class="col-sm-9 col-md-9">
                                                <a target="_blank" ng-show="selectedTrack.chat"
                                                   ng-href="{{selectedTrack.chat}}">{{selectedTrack.chat}}</a> (Opens in a new tab)

                                            </div>
                                        </div>
                                        <br/>
                                    </div>


                                    <div ng-show="selectedTrack.links">
                                        <div class="row">
                                            <hr class="trackBorder"/>
                                            <div class="col-sm-2 col-md-2">
                                                <strong>General links</strong>
                                            </div>

                                            <div class="col-sm-9 col-md-9">

                                                <table class="table">
                                                    <tr ng-repeat="link in selectedTrack.links">
                                                        <td>
                                                            <a target="_blank"
                                                               ng-href="{{link.url}}">{{link.name}}</a>

                                                            <a ng-hide="link.name" target="_blank"
                                                               ng-href="{{link.url}}">{{link.description}}</a>

                                                        </td>
                                                        </td>
                                                        <td>{{link.description}}</td>

                                                    </tr>

                                                </table>

                                                <em>Links of general interest to this track. Open in a separate tab</em>
                                                <!--

                                                                                           <ul class="list-unstyled">
                                                                                               <li ng-repeat = "link in selectedTrack.links">
                                                                                                   <a target="_blank"
                                                                                                      ng-href="{{link.url}}">{{link.description}} ({{link.url}})</a>
                                                                                               </li>
                                                                                           </ul>
                                                                                            -->


                                            </div>
                                        </div>
                                        <br/>
                                    </div>


                                    <div class="row">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>Scenarios</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">

                                            <div class="row">

                                                <div class="col-sm-4 col-md-4">
                                                    <ul class="list-group">
                                                        <li ng-class="{'list-group-item':1,'listItemSelected':selectedScenario.id == scenario.id}"
                                                            style="cursor: pointer"
                                                            ng-repeat="scenario in selectedTrack.scenarios track by $index"
                                                            ng-click="selectScenario(scenario)">


                                                            <span>
                                                                <i class="clickable glyphicon glyphicon-edit pull-right"
                                                                   title="Edit scenario" ng-click="editScenario(scenario)">
                                                                </i>
                                                            </span>
                                                            {{scenario.name}}
                                                        </li>
                                                    </ul>

                                                    <div>
                                                        <div class="pull-right">
                                                            <button class="btn btn-link" ng-click="addScenario()">
                                                                Add a new Scenario
                                                            </button>
                                                        </div>
                                                    </div>

                                                </div>


                                                <div class="col-sm-8 col-md-8" ng-show="selectedScenario">

                                                    <div class="row">
                                                        <div class="col-sm-9 col-md-9">

                                                            <div class="row" ng-show="selectedScenario.description">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Description</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <p ng-bind-html="selectedScenario.description | markDown"></p>
                                                                    <!-- {{selectedScenario.action}}-->
                                                                </div>
                                                            </div>

                                                            <!--
                                                            <h4>Description</h4>
                                                            <p ng-bind-html="selectedScenario.description | markDown"></p>

                                                            -->
                                                            <!--
                                                            <div ng-show="selectedScenario.reviewPurpose">
                                                                <h4>Purpose</h4>
                                                                <p ng-bind-html="selectedScenario.reviewPurpose | markDown"></p>
                                                            </div>
-->

                                                            <div class="row" ng-show="selectedScenario.action">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Action</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <p ng-bind-html="selectedScenario.action | markDown"></p>
                                                                    <!-- {{selectedScenario.action}}-->
                                                                </div>
                                                            </div>

                                                            <div class="row" ng-show="selectedScenario.precondition">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Precondition</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    {{selectedScenario.precondition}}
                                                                </div>
                                                            </div>


                                                            <div class="row"ng-show="selectedScenario.scenarioTypes.length > 0">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Resource Types</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <ul>
                                                                        <li ng-repeat="type in selectedScenario.scenarioTypes">

                                                                            {{type}}

                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>


                                                            <div class="row"ng-show="selectedScenario.lms.length > 0">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Logical Models</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <ul>
                                                                        <li ng-repeat="lm in selectedScenario.lms">

                                                                            <span uib-popover={{lm.url}}
                                                                                  popover-placement="top"
                                                                                  popover-trigger="'mouseenter'">
                                                                                    {{lm.description}}
                                                                                </span>



                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>


                                                            <div class="row"ng-show="selectedScenario.steps.length > 0">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Steps</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <ol>
                                                                        <li ng-repeat="step in selectedScenario.steps">

                                                                            <p ng-bind-html="step | markDown"></p>

                                                                            <!--{{step}}-->
                                                                        </li>
                                                                    </ol>
                                                                </div>
                                                            </div>

                                                            <div class="row" ng-show="selectedScenario.links.length > 0">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Links</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <ul class="list-unstyled">
                                                                        <li ng-repeat="link in selectedScenario.links">
                                                                            <a target="_blank" ng-href="{{link.url}}">
                                                                                <span uib-popover={{link.url}}
                                                                                      popover-placement="top"
                                                                                      popover-trigger="'mouseenter'">
                                                                                    {{link.description}}
                                                                                </span>
                                                                            </a>
                                                                            <!-- {{step}}-->

                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>

                                                            <div class="row" ng-show="selectedScenario.success">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Success</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    {{selectedScenario.success}}
                                                                </div>
                                                            </div>
                                                            <div class="row" ng-show="selectedScenario.bonus.length > 0">
                                                                <div class="col-sm-3 col-md-3">
                                                                    <strong>Bonus</strong>
                                                                </div>
                                                                <div class="col-sm-9 col-md-9">
                                                                    <ul class="list-unstyled">
                                                                        <li ng-repeat="bonus in selectedScenario.bonus">
                                                                            {{bonus}}
                                                                        </li>
                                                                    </ul>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div ng-show="selectedScenario.roles.length > 0" class="col-sm-3 col-md-3">
                                                            <h4>Roles</h4>
                                                            <ul class="list-group">
                                                                <li class="list-group-item"
                                                                    ng-repeat="role in selectedScenario.roles ">
                                                                    {{role.name}}



                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="row" ng-show="false">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>Registered Participants</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">

                                            <div class="row">
                                                <div class="col-sm-6 col-md-6">
                                                    <strong>Participants</strong>
                                                    <div ng-show="selectedTrack.persons.length==0">
                                                        No participants registered so far.
                                                    </div>

                                                    <div class="row">

                                                        <div class="col-sm-6 col-md-6">
                                                            <ul>
                                                                <li style="cursor: pointer"
                                                                    ng-repeat="person in selectedTrack.persons track by $index"
                                                                    ng-click="input.selectedTrackPerson = person">
                                                                    {{person.name}}
                                                                </li>
                                                            </ul>

                                                        </div>
                                                        <div class="col-sm-6 col-md-6">

                                                            <div class="row" ng-repeat="contact in input.selectedTrackPerson.contact">
                                                                <div class="col-sm-6 col-md-6">
                                                                    <strong>{{contact.type}}</strong>
                                                                </div>
                                                                <div class="col-sm-6 col-md-6">
                                                                    {{contact.value}}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 col-md-6">
                                                    <strong>Watchers (Tracks of Interest)</strong>


                                                    <div ng-show="selectedTrack.toi.length==0">
                                                        No Watchers registered so far.
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-sm-6 col-md-6">
                                                            <ul>
                                                                <li
                                                                        style="cursor: pointer"
                                                                        ng-repeat="person in selectedTrack.toi track by $index"
                                                                        ng-click="input.selectedTrackTOIPerson = person">
                                                                    {{person.name}}
                                                                </li>
                                                            </ul>

                                                        </div>
                                                        <div class="col-sm-6 col-md-6">

                                                            {{input.selectedTrackTOIPerson.name}}
                                                            <div class="row" ng-repeat="contact in input.selectedTrackTOIPerson.contact">
                                                                <div class="col-sm-4 col-md-4">
                                                                    <strong>{{contact.type}}</strong>
                                                                </div>
                                                                <div class="col-sm-8 col-md-8">
                                                                    {{contact.value}}
                                                                </div>
                                                            </div>


                                                        </div>
                                                    </div>

                                                </div>
                                            </div>




                                        </div>
                                    </div>

                                    
                                    <br/>

                                    <div class="row" ng-show="selectedTrack.roles.length > 0">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>All roles in track</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">

                                            <div class="row">
                                                <div class="col-sm-4 col-md-4">
                                                    <ul class="list-group">
                                                        <li ng-class="{'list-group-item':1,'listItemSelected':selectedRole.id == role.id}"
                                                            style="cursor: pointer"
                                                            ng-repeat="role in selectedTrack.roles track by $index"
                                                            ng-click="selectRole(role)">
                                                            {{role.name}}

                                                            <span>
                                                                <i class="clickable glyphicon glyphicon-edit pull-right"
                                                                   title="Edit role" ng-click="editRole(role)">
                                                                </i>
                                                            </span>

                                                        </li>
                                                    </ul>

                                                </div>
                                                <div class="col-sm-8 col-md-8">
                                                    <p ng-bind-html="selectedRole.description | markDown"></p>

                                                    <div ng-show="selectedRole.role == 'client'">
                                                        This role acts as a Client in a Client/Server test
                                                    </div>
                                                    <div ng-show="selectedRole.role == 'server'">
                                                        This role acts as a Server in a Client/Server test
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="row" ng-show="selectedTrack.endPoints.length > 0">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>End Points</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">
                                            <table class="table">
                                                <tr><th>Url</th><th>Description</th></tr>
                                                <tr ng-repeat="ep in selectedTrack.endPoints">
                                                    <td>{{ep.url}}</td>
                                                    <td>{{ep.description}}</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    <!--
                                    <div class="row" ng-show="selectedTrack.expandQuery.length > 0">
                                        <hr class="trackBorder"/>
                                        <div class="col-sm-2 col-md-2">
                                            <strong>Specific Expansion queries</strong>
                                        </div>
                                        <div class="col-sm-10 col-md-10">
                                            <table class="table">
                                                <tr><th>ValueSet Url</th><th>Expansion query</th></tr>
                                                <tr ng-repeat="eq in selectedTrack.expandQuery">
                                                    <td>{{eq.vsUrl}}</td>
                                                    <td>{{eq.query}}</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    -->


                                </uib-tab>

                                <uib-tab>
                                    <uib-tab-heading>
                                        Servers <span class="badge">{{getServersForTrack(selectedTrack.id).length}}</span>
                                    </uib-tab-heading>

                                    <h4>Servers associated with this track</h4>

                                    <table class="table table-condensed table-bordered">
                                        <tr><th>Name</th><th>Url</th><th>Description</th><th>Notes</th><th></th></tr>
                                        <tr ng-repeat="server in getServersForTrack(selectedTrack.id)">
                                            <td width="15%">{{server.name}}</td>
                                            <td width="25%">

                                                <a target="_blank" ng-href = "http://clinfhir.com/query.html#{{server.address}}">
                                                    {{server.address}}
                                                </a>
                                                <!--
                                                <a target="_blank"
                                                   ng-src="http://clinfhir.com/query.html#{{server.address}}">{{server.address}}</a>
                                                -->

                                            </td>
                                            <td width="25%">{{server.description}}</td>
                                            <td width="25%">{{server.notes}}</td>
                                            <td><button class="btn btn-link" ng-click="editServer(server)">View</button> </td>
                                        </tr>
                                    </table>

                                    <em>Servers where the server contact person has indicated suitability for this track.
                                    Use the edit link to view details & remove from track if needed. Clicking the Url
                                    will load the clinFHIR Server Query module for this server in a separate tab.</em>


                                    <h4>Other servers </h4>
                                    <table class="table table-condensed table-bordered">
                                        <tr><th>Name</th><th>Url</th><th>Description</th><th>Notes</th><th></th></tr>
                                        <tr ng-repeat="server in allServers">
                                            <td width="15%">{{server.name}}</td>
                                            <td width="25%">
                                                <a target="_blank" ng-href = "http://clinfhir.com/query.html#{{server.address}}">
                                                    {{server.address}}
                                                </a>
                                            </td>
                                            <td width="25%">{{server.description}}</td>
                                            <td width="25%">{{server.notes}}</td>
                                            <td><button class="btn btn-link" ng-click="editServer(server)">View</button> </td>
                                        </tr>
                                    </table>
                                    <em>Use the view link to view details of the server, and add it to this track if desired.
                                        Clicking the Url
                                        will load the clinFHIR Server Query module for this server in a separate tab.</em>
                                    <!--

                                    <div ng-repeat = "server in allServers">
                                        <div ng-repeat = "trackId in server.tracks">
                                            <div ng-show = "trackId == selectedTrack.id">
                                                <checkbox ng-model="input.trackServer[$index]">
                                                    {{server.name}}
                                                </checkbox>

                                            </div>
                                        </div>
                                    </div>
-->



                                </uib-tab>

                                <uib-tab heading="Report">
                                    <br/>
                                    <div class="row">
                                        <div class="col-md-3 col-sm-3">
                                            <strong>Primary Participant</strong>

                                            <ul>
                                                <li ng-repeat = "person in selectedTrack.persons">
                                                    {{person.name}}
                                                </li>
                                            </ul>
                                            <strong>Track of Interest</strong>

                                            <ul>
                                                <li ng-repeat = "person in selectedTrack.toi">
                                                    {{person.name}}
                                                </li>
                                            </ul>

                                            <button class="btn btn-link"
                                                    ng-click="download('results')">Download report</button>


                                        </div>

                                        <div class="col-md-9 col-sm-9">

                                            <table class="table table-bordered">
                                                <tr>
                                                    <th>Scenario</th><th>Server</th><th>Asserter</th><th>Result</th>
                                                    <th>Note</th><th>IG</th>
                                                </tr>
                                                <tr ng-repeat="(key,result) in ecosystemSvc.getAllResults(selectedTrack)">
<!-- <tr ng-repeat="(key,result) in ecosystemSvc.getAllResults(null,selectedScenarioDirect)">-->

                                                    <td>{{result.scenario.name}}</td>
                                                    <td>{{result.server.name}}</td>
                                                    <td>{{result.asserter.name}}</td>
                                                    <td>{{result.text}}</td>

                                                    <td>{{result.note}}</td>
                                                    <td>
                                                        {{result.IG.name}}

                                                    </td>
                                                    <!--
                                                    <td>
                                                        <a href="#" ng-click="editTestResult(result)">edit</a>
                                                    </td>
-->
                                                </tr>
                                            </table>



                                        </div>
                                    </div>
                                </uib-tab>




                                <uib-tab>
                                    <uib-tab-heading>
                                        Testing & feedback <span ng-show="selectedTrack.scenarios.length > 0" class="badge"
                                              uib-popover=" Pass /  Fail /  Partial /  Note"
                                              popover-placement="top"
                                              popover-append-to-body = true
                                              popover-trigger="'mouseenter'">
                                        {{resultsSummary.resultTotals.pass}} / {{resultsSummary.resultTotals.fail}} /
                                        {{resultsSummary.resultTotals.partial}} / {{resultsSummary.resultTotals.note}}</span>
                                    </uib-tab-heading>
                                    <br/>



                                    <div ng-show="selectedTrack.scenarios.length == 0">
                                        <em>Testing can only be performed if the track defines scenarios against which tests
                                            can be done. Click <span class="clickable" ng-click="addScenario()">here </span> to add one.</em>
<!--
                                        <div>
                                            <div class="pull-right">
                                                <button class="btn btn-link" ng-click="addScenario()">
                                                    Add a new Scenario
                                                </button>
                                            </div>
                                        </div>
-->
                                    </div>

                                    <div ng-show="selectedTrack.scenarios.length > 0">
                                        <ng-include src="'includes/testResult.html'"></ng-include>
                                    </div>


                                </uib-tab>


                            </uib-tabset>

                            </div>


                        </div>
                    </div>




                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        Implementation Guides
                        <span class="badge">{{allIGs.length}}</span>
                    </uib-tab-heading>
                    <br/>

                    <table class="table table-condensed">
                        <tr><th>Name</th><th>Description</th><th>Package#version</th><th>Tracks</th>
                            <th>External link</th><th>Viewer</th></tr>
                        <tr ng-repeat="ig in allIGs">
                            <td width="15%">
                                <div class="clickable" ng-click="editIG(ig)">
                                    {{ig.name}}
                                </div>

                            </td>

                            <td width="25%">{{ig.description}}</td>
                            <td>{{ig.package}}#{{ig.version}}</td>

                            <td>
                                <div ng-repeat="track in tracks">
                                    <div ng-repeat = "tig in track.IGs">
                                        <div ng-show="tig.id == ig.id">
                                            <div class="clickable"
                                                 ng-click="selectTrack(track,'Select the track tab to view the track details')">
                                                {{track.name}}
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </td>
                            <td width="20%">

                                <a ng-show="ig.link" ng-href="{{ig.link}}" target="_blank">View</a>
                            </td>
                            <td>
                                <div ng-show="ig.package && ig.version">
                                    <div>
                                        <a ng-href="https://registry.fhir.org/package/{{ig.package}}%7c{{ig.version}}" target="_blank">FHIR Registry</a>
                                    </div>
                                    <div>

                                        <a ng-href="http://clinfhir.com/packageViewer.html#{{ig.package}}%7c{{ig.version}}" target="_blank">clinFHIR</a>
                                    </div>
                                </div>

                            </td>

<!--
                            <td>
                                <div class="clickable" ng-click="editIG(ig)">Edit</div>
                            </td>
                            -->
                        </tr>
                    </table>

                    <button class="btn btn-link" ng-click="editIG()">Add new IG</button>

<!--
                    <pre>{{allIGs | json}}</pre>
                    -->
                </uib-tab>

                <uib-tab heading = 'Event' ng-show="eventConfig.details">
                    <iframe ng-src="{{eventConfig.details | trustAsResourceUrl}}" height="800px" width="100%"></iframe>
                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        People
                        <span class="badge">{{allPersons.length}}</span>
                    </uib-tab-heading>
                    <br/>

                    <div class="row">
                        <div class="col-sm-6 col-md-6">
                            <div class="trackScroll">
                                <div class="row">
                                    <div class="col-sm-6 col-md-6">
                                        <input class="form-control" ng-model="input.personNameFilter"
                                               placeholder="Enter string to filter list by (name & org)"/>
                                    </div>
                                </div>
                                <table class="table table-bordered">
                                    <tr><th>Name</th><th>Organization</th><th>Primary track</th><th></th>
                                        <!--
                                        <th>
                                        <button class="btn btn-link pull-right" ng-click="editPerson()">New Person</button>
                                        </th>
                                        -->

                                    </tr>
                                    <tr ng-repeat="person in allPersons"
                                        ng-show="canShowPerson(person,input.personNameFilter)">
                                        <td><button class="btn btn-link" ng-click="selectPerson(person)">{{person.name}}</button> </td>
                                        <td>{{person.organization}}</td>
                                        <td>
                                           {{person.primaryTrack.name}}
                                        </td>
                                        <td>
                                            <button ng-show="ecosystemSvc.getCurrentUser().id == person.id"
                                                    class="btn btn-link" ng-click="editPerson(person)">Edit</button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6" ng-show="personSummary">


                            <div class="banner">{{personSummary.person.name}}</div>

                            <div ng-show = "personSummary.person.contact.length > 0" >
                                <h4>Contacts</h4>
                                <div ng-repeat="contact in personSummary.person.contact">
                                    {{contact.type}}: {{contact.value}}
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-md-6">
                                    <h4>Primary Track</h4>
                                    <div ng-hide="personSummary.primaryTrack">No primary track selected.</div>
                                    <div ng-show="personSummary.primaryTrack">{{personSummary.primaryTrack.name}}</div>
                                </div>
                                <div class="col-md-6">
                                    <h4>Tracks of interest</h4>
                                    <div ng-hide="personSummary.toi.length > 0">No Tracks of Interest selected.</div>
                                    <div ng-show="personSummary.toi.length > 0">
                                        <ul class="list-unstyled">
                                            <li ng-repeat="track in personSummary.toi">
                                                {{track.name}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>





                            <!--
                            <h4>Clients</h4>
                            <div ng-show="personSummary.clients.length == 0">No clients for this user.</div>
                            <table class="table table-bordered" ng-show="personSummary.clients.length > 0">
                                <tr><th>Name</th><th>Description</th><th></th></tr>
                                <tr ng-repeat = "client in personSummary.clients">
                                    <td>{{client.name}}</td>
                                    <td>{{client.description}}</td>
                                    <td><button class="btn btn-link" ng-click="editClient(client)">Edit</button> </td>
                                </tr>
                            </table>
                            -->

                            <div ng-show="personSummary.servers.length > 0">
                                <h4>Servers</h4>

                                <table class="table table-bordered" ng-show="personSummary.servers.length > 0">
                                    <tr><th>Name</th><th>Description</th><th></th></tr>
                                    <tr ng-repeat = "server in personSummary.servers">
                                        <td>{{server.name}}</td>
                                        <td>{{server.description}}</td>
                                        <td><button class="btn btn-link" ng-click="editServer(server)">Edit</button> </td>
                                    </tr>
                                </table>
                            </div>

                            <!--
                            <h4>Scenarios registered for (as Client or Server)</h4>
                            <div ng-show="personSummary.scenarios.length == 0">None yet.</div>
                            <table class="table table-bordered" ng-show="personSummary.scenarios.length > 0">
                                <tr><th>Track</th><th>Scenario</th><th>Client/Server</th><th>App (Role)</th></tr>
                                <tr ng-repeat = "scenario in personSummary.scenarios">
                                    <td>{{scenario.track.name}}</td>
                                    <td>{{scenario.scenario.name}}</td>
                                    <td>{{scenario.systemRole}}</td>

                                    <td>
                                        {{scenario.clientRole.client.name}} ({{scenario.clientRole.role.name}})
                                    </td>
                                    <td></td>

                                </tr>
                            </table>
            -->

                            <div ng-show="personSummary.results.length > 0">
                            <h4>Asserted Results and feedback</h4>

                                <table class="table table-bordered" ng-show="personSummary.results.length > 0">
                                    <tr><th>Track</th><th>Scenario</th><th>Server</th><th>Result</th><th>Note</th><th>IG</th></tr>
                                    <tr ng-repeat = "result in personSummary.results">

                                        <td>{{result.track.name}}</td>
                                        <td>{{result.scenario.name}}</td>

                                        <td>{{result.server.name}} </td>
                                        <td>{{result.text}}</td>
                                        <td>{{result.note}}</td>
                                        <td>{{result.IG.name}}</td>
                                    </tr>
                                </table>
                            </div>

                        </div>
                    </div>




                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        Clients
                        <span class="badge" ng-show="allClients.length > 0">{{allClients.length}}</span>
                    </uib-tab-heading>
                    <br/>
                    <div>
                        <button class="btn btn-link pull-right" ng-click="editClient()">New Client</button>
                    </div>
                    <table class="table table-bordered">
                        <tr><th>Name</th><th>Description</th><th>Contacts</th><th>Track / Scenario / Role (from Testing)

                        </th><th></th><th></th></tr>
                        <tr ng-repeat="clnt in allClients">
                            <td>{{clnt.name}}</td>
                            <td>{{clnt.description}}</td>
                            <td>
                                <div ng-repeat = "person in clnt.contact">
                                    {{person.name}}
                                    <span ng-repeat="contact in person.contact">
                                        {{contact.type}}: {{contact.value}}
                                    </span>
                                </div>
                            </td>
                            <td>
                                <div ng-repeat="scenarioName in getScenariosForClient(clnt) track by $index">
                                    {{scenarioName}}
                                </div>
                            </td>
                            <td>
                                <div ng-show="clnt.url">
                                    <a class="btn btn-link" ng-href="{{clnt.url}}" target="blank">Invoke</a>
                                </div>

                            </td>
                            <td>
                                <button class="btn btn-link" ng-click="editClient(clnt)">View</button>


                            </td>
                        </tr>
                    </table>


                </uib-tab>

                <uib-tab>
                    <uib-tab-heading>
                        Servers
                        <span class="badge" ng-show="allServers.length > 0">{{allServers.length}}</span>
                    </uib-tab-heading>
                    <br/>

                    <uib-tabset>
                        <uib-tab heading = "List">
                            <div>
                                <button class="btn btn-link pull-right" ng-click="editServer()">New Server</button>
                            </div>
                            <table class="table table-bordered">
                                <tr><th>Name</th><th>Url</th><th>FHIR Version</th><th>Description & Notes</th><th>Notes</th>
                                    <th>Tracks</th>
                                    <th></th></tr>
                                <tr ng-repeat="svr in allServers">
                                    <td>{{svr.name}}</td>
                                    <td>
                                        <div ng-show="svr.address">
                                            <a target="_blank" ng-href = "http://clinfhir.com/query.html#{{svr.address}}">
                                                Server root: {{svr.address}}
                                            </a>



                                        </div>
                                        <div ng-show="svr.UIaddress">
                                            <a target="_blank" ng-href = "{{svr.UIaddress}}">
                                                UI: {{svr.UIaddress}}
                                            </a>


                                        </div>
                                    </td>
                                    <!--
                                    <td><div  uib-popover="{{svr.address}}"
                                              popover-placement="right"

                                              popover-trigger="'mouseenter'">
                                        {{svr.address | showUrlMaxLength : 50}}
                                    </div></td>
                                    -->
                                    <td>{{svr.fhirVersion}}</td>
                                    <td>
                                        <div uib-popover="{{svr.description}}"
                                             popover-placement="right"
                                             popover-append-to-body = true
                                             popover-trigger="'mouseenter'">

                                            {{getSvrDescription(svr)}}

                                        </div>
                                    </td>
                                    <td>
                                        <div uib-popover="{{svr.notes}}"
                                             popover-placement="right"
                                             popover-append-to-body = true
                                             popover-trigger="'mouseenter'">

                                            {{getSvrNotes(svr)}}

                                        </div>
                                    </td>
                                    <!--
                                    <td>
                                        <div ng-repeat = "person in svr.contact">
                                            {{person.name}}
                                            <span ng-repeat="contact in person.contact">
                                                {{contact.type}}: {{contact.value}}
                                            </span>
                                        </div>
                                    </td>
                                    -->
                                    <td>
                                        <div ng-repeat="trackId in svr.tracks">

                                            {{hashTracks[trackId].name}}

                                        </div>

                                        <!--
                                        <div ng-repeat="scenarioName in getScenariosForServer(svr) track by $index">
                                            {{scenarioName }}
                                        </div>
                                        -->

                                    </td>
                                    <!--
                                    <td>
                                        <span class="badge" ng-show="svr.allHooks.services.length > 0"
                                              uib-popover-html=showHooksSummary(svr)
                                              popover-placement="left"
                                              popover-trigger="'mouseenter'"
                                        >CDS</span>
                                        <span class="badge" ng-show="svr.SMART.authorize">SMART</span>
                                    </td>
                                    -->

                                    <td><button class="btn btn-link" ng-click="editServer(svr)">View</button> </td>
                                </tr>
                            </table>


                        </uib-tab>

                        <uib-tab heading = "Search">
                                <br/>
                            <div class="row">
                                <div class = "col-md-3">
                                    <input type="text" class="form-control"
                                           placeholder="Search string - eg 'Patient'"
                                           ng-model="input.searchType"/>
                                </div>
                                <div class = "col-md-7">
                                    <div  style="margin-top:10px">
                                        <em>Enter the search string. Will search for types and operations in the CapabilityStatement.</em>
                                    </div>

                                </div>
                                <div class = "col-md-2">
                                    <button class="btn btn-primary pull-right" ng-show="input.searchType"
                                            ng-click="searchServers(input.searchType)">Search</button>
                                </div>
                            </div>
                            <hr/>

                            <div class="row">
                                <div class = "col-md-3">
                                    <div class="list-group">

                                        <div ng-class="{'list-group-item':true,'listItemSelected':res.id == input.selectedServerQueryResult.id}"
                                             ng-repeat = "res in serverQueryResults.servers"
                                            ng-click = "input.selectedServerQueryResult = res" >

                                            <div class="clickable pull-right" ng-click="editServerFromSearch(res.id)">View</div>
                                            {{res.name}}


                                        </div>

                                    </div>
                                    <em>There can be multiple entries for a server if multiple match reasons are found</em>
                                </div>
                                <div class = "col-md-9" ng-show="input.selectedServerQueryResult">
                                    
                                    <div class="row">
                                        <div class = "col-md-4">
                                            <strong>Match reason</strong>
                                        </div>
                                        <div class = "col-md-4">
                                            <strong>Description</strong>
                                        </div>
                                        <div class = "col-md-4">
                                            <strong>Notes</strong>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class = "col-md-4">
                                            {{input.selectedServerQueryResult.matchType}}:
                                            {{input.selectedServerQueryResult.matchReason}}
                                        </div>
                                        <div class = "col-md-4">
                                            {{input.selectedServerQueryResult.description}}
                                        </div>
                                        <div class = "col-md-4">
                                            {{input.selectedServerQueryResult.notes}}
                                        </div>
                                    </div>
                                    
                                    

                                    <br/>
                                    <strong ng-show="input.selectedServerQueryResult.matchType == 'Type'">rest.resource entry containing the match</strong>
                                    <pre>{{input.selectedServerQueryResult.definition | json}}</pre>
                                </div>
                            </div>







                        </uib-tab>
                    </uib-tabset>





                </uib-tab>

                <!-- THis was copied under the track and can probably be deleted...-->
                <uib-tab ng-show = "false" heading="Record test result">
                    <br/>


                    <div class="row">
                        <div class="col-sm-12 col-md-12">
                            Current Track: {{selectedTrack.name}}
                            <span><em>Select a different track in the Track details tab</em></span>
                            <!--
                            <select class="form-control" ng-model="selectedTrack"
                                    ng-options = "option.name for option in tracks">
                            </select>
                            -->
                        </div>
                    </div>


                    <div class="row">
                        <!--
                        <div class="col-sm-2 col-md-2">
                            <div class="center-text"><strong >Technical tracks</strong></div>
                            <div class="trackScroll">
                                <ul class="list-group">
                                    <li ng-class="{'list-group-item':1,'listItemSelected':selectedTrack.id == track.id}" style="cursor: pointer"
                                        ng-repeat="track in tracks  | orderBy: 'name' "
                                        ng-click="selectTrack(track)"
                                        ng-show="track.trackType == 'technical'">
                                        {{track.name}}
                                        <div><em>({{track.trackType}})</em></div>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        -->
                        <div class="col-sm-12 col-md-12">
                            <uib-tabset>
                                <uib-tab heading="Client/Server">
                                    <br/>
                                    <p class="banner">This is used when a scenario only uses 2 participants - a client and a server</p>
                                    <div ng-repeat="scenario in selectedTrack.scenarios track by $index">

                                        <div class="banner" style="height: 40px">


                                            <span uib-popover-html=getScenarioDescription(scenario)
                                                  popover-placement="top"
                                                  popover-trigger="'mouseenter'">

                                                 {{scenario.name}}
                                            </span>



                                            <span class="pull-left">
                                                <button class="btn btn-link" ng-click="addClientToScenario(scenario)">Add Client</button>
                                            </span>

                                            <span class="pull-right">
                                                 <button class="btn btn-link" ng-click="addServerToScenario(scenario)">Add Server</button>
                                            </span>

                                        </div>
                                        <!--
                                                                        {{scenario.clients.length}} {{scenario.servers.length}}
                                                                        <div ng-show="! scenario.clients && !scenario.servers">
                                                                            <em>You need to add at least one server and one client to record test results</em>
                                                                        </div>

                                                                        <div ng-show="scenario.clients.length == 0 && scenario.servers.length > 0">
                                                                            <em>You need to add at least one client as well to record test results</em>
                                                                        </div>

                                                                        <div ng-show="scenario.servers.length ==0 && scenario.clients.length == 0">
                                                                            <em>You need to add at least one server as well to record test results</em>
                                                                        </div>
                                        -->
                                        <div class="row">
                                            <div class="col-sm-12 col-md-12">


                                                <table class="table table-bordered">
                                                    <tr>
                                                        <td width="150px"  >
                                                            <!--
                                                            <button class="btn btn-link" ng-click="addClientToScenario(scenario)">Add Client</button>
                                                            -->
                                                        </td>
                                                        <th ng-repeat="server in scenario.servers">
                                                            {{server.server.name}}
                                                            <div><em>({{server.role.name}})
                                                                <i class="clickable glyphicon glyphicon-remove-sign"
                                                                   title="Remove server" ng-click="removeServerFromScenario(scenario,server)">
                                                                </i>

                                                            </em></div>
                                                        </th>
                                                    </tr>

                                                    <tr ng-repeat="client in scenario.clients">
                                                        <td><strong>
                                                            {{client.client.name}}
                                                            <div><em>({{client.role.name}})</em>
                                                                <i class="clickable glyphicon glyphicon-remove-sign"
                                                                   title="Remove client" ng-click="removeClientFromScenario(scenario,client)">
                                                                </i>
                                                            </div>
                                                        </strong>
                                                        </td>
                                                        <td ng-repeat="server in scenario.servers">
                                                            <a href="#" ng-click="addTestResult(selectedTrack,scenario,client,server)">

                                                                <span uib-popover-html=showTestResultNote(scenario,client,server)
                                                                      popover-placement="top"
                                                                      popover-trigger="'mouseenter'">
                                                                    <p ng-bind-html="showTestResult(scenario,client,server)"></p>
                                                                </span>


                                                            </a>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>

                                        </div>


                                    </div>


                                </uib-tab>

                                <uib-tab heading="Comment against Scenario (Direct)">
                                    <br/>
                                    <p class="banner">This allows a result to be recorded directly against a scenario</p>
                                    <div class="row">

                                        <div class="col-md-3 col-sm-3">
                                            <ul class="list-group">
                                                <li ng-class="{'list-group-item':1,
                                                    'listItemSelected':selectedScenarioDirect.id == scenario.id}"
                                                    style="cursor: pointer"
                                                    ng-repeat="scenario in selectedTrack.scenarios"
                                                    ng-click="selectScenarioDirect(scenario)">
                                                    {{scenario.name}}

                                                </li>
                                            </ul>

                                        </div>
                                        <div class="col-md-9 col-sm-9">
                                            <div ng-show="selectedScenarioDirect">


                                                <table class="table table-bordered">
                                                    <tr>
                                                        <th>Asserter</th><th>Result</th>
                                                        <th>Note</th><th>Server</th><th>IG</th>
                                                    </tr>
                                                    <tr ng-repeat="(key,result) in ecosystemSvc.getAllResults(null,selectedScenarioDirect)">

                                                        <td>{{result.asserter.name}}</td>
                                                        <td>{{result.text}}</td>

                                                        <td>{{result.note}}</td>
                                                        <td>

                                                            {{result.server.name}}

                                                            <!--
                                                            <div ng-repeat="tracker in result.trackers">
                                                                {{tracker.url}}
                                                            </div>

                                                            -->
                                                        </td>
                                                        <td>
                                                            {{IG.name}}
                                                        </td>
                                                        <td>
                                                            <a href="#" ng-click="editTestResult(result)">edit</a>
                                                        </td>


                                                    </tr>
                                                </table>




                                                <a href="#" ng-click="addTestResult(selectedTrack,selectedScenarioDirect,null,null)">Add new result</a>
                                            </div>
                                        </div>

                                    </div>

                                </uib-tab>
<!--
                                <uib-tab heading="Pull from Touchstone">
                                    <br/>
                                    <div ng-controller="touchStoneCtrl">


                                        <p class="banner">Pull test results from touchstone

                                        </p>
                                        <div class="pull-right">
                                            <button
                                                    ng-click="authenticate(ecosystemSvc.getCurrentUser())"
                                                    class="btn btn-warning">Login</button>
                                            <button
                                                ng-click="getTestResults()"
                                                class="btn btn-primary">Retrieve</button>
                                        </div>


                                        <div class="row">

                                            <div class="col-md-3 col-sm-3">
                                                <ul class="list-group">
                                                    <li ng-class="{'list-group-item':1,
                                                    'listItemSelected':selectedScenarioDirect.id == scenario.id}"
                                                        style="cursor: pointer"
                                                        ng-repeat="scenario in selectedTrack.scenarios"
                                                        ng-click="selectScenarioDirect(scenario)">
                                                        {{scenario.name}}

                                                    </li>
                                                </ul>

                                            </div>
                                            <div class="col-md-3 col-sm-3">

                                            </div>
                                        </div>
                                    </div>

                                </uib-tab>

                                -->
                            </uib-tabset>
                        </div>

                    </div>
                </uib-tab>



                <uib-tab select="IGTestReport()">
                    <uib-tab-heading>
                        Test Results
                        <span class="badge" ng-show="ecosystemSvc.allResultsCount() > 0">{{ecosystemSvc.allResultsCount()}}</span>
                    </uib-tab-heading>
                    <br/>

                    <uib-tabset>

                        <uib-tab heading="All tests">

                            <br/>
<!--
                            <button class="btn btn-link pull-right" ng-click="download('results')">Download results</button>
-->
                            <table class="table table-bordered">
                                <tr>
                                    <th>Track</th><th>Scenario</th><th>Server</th><th>Asserter</th><th>Result</th>
                                    <th>Note</th><th>IG</th>
                                </tr>
                                <tr ng-repeat="(key,result) in ecosystemSvc.getAllResults()">

                                    <td>{{result.track.name}}</td>
                                    <td>{{result.scenario.name}}</td>
                                    <td> {{result.server.name}}
                                        <!--
                                        <div ng-show="result.client">Client: {{result.client.client.name}}
                                            ({{result.client.role.name}})
                                        </div>
                                        <div ng-show="result.server">Server: {{result.server.server.name}}
                                            ({{result.server.role.name}})
                                        </div>
                                        -->

                                    </td>
                                    <td>{{result.asserter.name}}</td>
                                    <td>{{result.text}}</td>

                                    <td>{{result.note}}</td>
                                    <td>
                                        {{result.IG.name}}
                                        <!--
                                        <div ng-repeat="tracker in result.trackers">
                                            {{tracker.url}}
                                        </div>
                                        -->
                                    </td>


                                </tr>
                            </table>


                        </uib-tab>


                        <uib-tab heading="Analysis by track">
                            <br/>
                            <div class="row">
                                <div class="col-md-3 col-sm-3">
                                    <div class="trackScroll">
                                    <ul class="list-group">
                                        <li ng-class="{'list-group-item':1,
                                            'listItemSelected':selectedTrackSummary.id == track.id}" style="cursor: pointer"
                                            ng-repeat="track in tracks"
                                            ng-click="selectTrackResults(track)">

                                             <span class="pull-right badge"
                                                   ng-show="track.resultTotals.pass || track.resultTotals.fail || track.resultTotals.partial || track.resultTotals.note"
                                                   uib-popover="{{track.resultTotals.pass}} Pass / {{track.resultTotals.fail}} Fail / {{track.resultTotals.partial}} Partial / {{track.resultTotals.note}} Note"
                                                   popover-placement="top"
                                                   popover-append-to-body = true
                                                   popover-trigger="'mouseenter'">

                                                    {{track.resultTotals.pass}} /
                                                    {{track.resultTotals.fail}} /
                                                    {{track.resultTotals.partial}} /
                                                    {{track.resultTotals.note}}
                                                </span>
                                            <div>{{track.name}}</div>

                                            <div>

                                            </div>



                                        </li>
                                    </ul>
                                    </div>
                                </div>
                                <div class="col-md-9 col-sm-9">
                                    <uib-tabset ng-show="selectedTrackSummary">
                                        <uib-tab heading="All scenarios summary">
                                            <br/>


                                            <canvas id="bar" class="chart chart-horizontal-bar" chart-options="barOptions"
                                                    chart-data="barData" chart-labels="barLabels" chart-series="barSeries">
                                            </canvas>

                                        </uib-tab>
                                        <uib-tab heading="Summary by Scenario">
                                            <br/>
                                            <div class="row">

                                                <div class="col-md-4 col-sm-4">
                                                    <ul class="list-group">
                                                        <li ng-class="{'list-group-item':1,'listItemSelected':selectedScenarioSummary.id == scenario.id}"
                                                            style="cursor: pointer"
                                                            ng-repeat="scenario in selectedTrackSummary.scenarios"
                                                            ng-click="selectScenarioResults(scenario)">
                                                            {{scenario.name}}
                                                            <span class="pull-right" ng-show="resultsSummary.scenario[scenario.name].total > 0">
                                                                <span class=" badge">
                                                                    {{resultsSummary.scenario[scenario.name].total}}
                                                                </span>

                                                                <span class=" badge">

                                                                    {{resultsSummary.scenario[scenario.name].pass}} /
                                                                    {{resultsSummary.scenario[scenario.name].fail}} /
                                                                    {{resultsSummary.scenario[scenario.name].partial}} /
                                                                    {{resultsSummary.scenario[scenario.name].note}}
                                                                </span>
                                                            </span>



                                                        </li>
                                                    </ul>



                                                </div>
                                                <div class="col-md-8 col-sm-8">
                                                    <canvas id="pie" class="chart chart-pie"
                                                            chart-data="chartData" chart-labels="chartLabels" chart-options="chartOptions" chart-colors="chartColors">
                                                    </canvas>




                                                </div>





                                            </div>
                                        </uib-tab>
                                        <uib-tab heading="Details all scenarios this track">

                                            <br/>


                                            <button class="btn btn-link pull-right"
                                                    ng-click="download('results',selectedTrackSummary)">Download results</button>

                                            <table class="table table-bordered">
                                                <tr>
                                                    <th>Scenario</th><th>Server</th><th>Asserter</th><th>Result</th>
                                                    <th>Note</th><th>IG</th><th></th>
                                                </tr>
                                                <tr ng-repeat="(key,result) in ecosystemSvc.getAllResults(selectedTrackSummary)">


                                                    <td>{{result.scenario.name}}</td>
                                                    <td>{{result.server.name}}
                                                        <!--
                                                        <div ng-show="result.client">Client: {{result.client.client.name}}
                                                            ({{result.client.role.name}})
                                                        </div>
                                                        <div ng-show="result.server">Server: {{result.server.server.name}}
                                                            ({{result.server.role.name}})
                                                        </div>
-->
                                                    </td>
                                                    <td>{{result.asserter.name}}</td>
                                                    <td>{{result.text}}</td>

                                                    <td>{{result.note}}</td>
                                                    <td>
                                                        {{result.IG.name}}
                                                        <!--
                                                        <div ng-repeat="tracker in result.trackers">
                                                            {{tracker.url}}
                                                        </div>
                                                        -->
                                                    </td>
                                                    <!--
                                                    <td>
                                                        <i class="glyphicon glyphicon-remove-sign"

                                                           style="padding-top: 8px"
                                                           title="Delete" ng-click="deleteResult(result)">
                                                        </i>
                                                    </td>
                                                    -->
                                                    <!--<td>{{key}}</td>-->

                                                </tr>
                                            </table>



                                        </uib-tab>
                                    </uib-tabset>
                                </div>




                            </div>


                        </uib-tab>


                        <uib-tab heading="Analysis by IG" >
                            <br/>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="list-group">
                                        <div ng-class="{'list-group-item':true,'listItemSelected':input.selectedIGTests.id == IG.id}"
                                             ng-repeat = "(id,IG) in IGtests" style="cursor: pointer">
                                            <span ng-show = "IG.results.length > 0" class="badge pull-right">{{IG.results.length}}</span>
                                            <div ng-click="input.selectedIGTests = IG">{{IG.name}}</div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-md-9">
                                    <div ng-show="input.selectedIGTests.results.length ==0">
                                        No tests have been recorded against this IG. Tests are recorded
                                        for a scenario in a track, and the IG can be selected then.
                                    </div>





                                    <table class="table table-bordered" ng-show="input.selectedIGTests.results.length > 0">
                                        <tr><th>Track</th><th>Scenario</th><th>Server</th><th>Asserter</th><th>Result</th><th>Note</th></tr>
                                        <tr ng-repeat="test in input.selectedIGTests.results">
                                            <td>{{test.track.name}}</td>
                                            <td>{{test.scenario.name}}</td>
                                            <td>{{test.server.name}}</td>
                                            <td>{{test.asserter.name}}</td>
                                            <td>{{test.result}}</td>

                                            <td>{{test.note}}</td>


                                        </tr>
                                    </table>

                                </div>
                            </div>



                        </uib-tab>

                    </uib-tabset>
<!--
                    <pre>{{ecosystemSvc.getAllResults() | json}}</pre>

-->
                </uib-tab>



                <uib-tab heading="Participation report" select="makeEventReport()">
                    <br/>

                    <uib-tabset>
                        <uib-tab heading="Individual">
                            <div class="row">
                                <div class="col-md-6 col-sm-6">
                                    <div class="trackScroll">

                                        <table class="table table-bordered">
                                            <tr><th>Track</th><th>Primary</th><th>Others</th></tr>
                                            <tr ng-repeat="track in eventReport.tracks | orderBy: 'name' ">
                                                <td><div class="clickable" ng-click="input.partTrack = track">{{track.name}}</div></td>
                                                <td width="70px"><span ng-show="track.persons">{{track.persons}}</span></td>

                                                <td width="70px"><span ng-show="track.watchers">{{track.watchers}}</span></td>



                                            </tr>
                                            <tr><th></th><th>{{eventReport.totalPersons}}</th><th>{{eventReport.totalWatchers}}</th></tr>
                                        </table>

                                        <!--
                                        <table class="table table-bordered">
                                            <tr><th>Track</th><th>Primary</th><th>Watchers</th><th>Clients</th><th>Servers</th>
                                                <th>Results</th></tr>
                                            <tr ng-repeat="track in eventReport.tracks | orderBy: 'name' ">
                                                <td><div class="clickable" ng-click="input.partTrack = track">{{track.name}}</div></td>
                                                <td width="70px"><span ng-show="track.persons">{{track.persons}}</span></td>

                                                <td width="70px"><span ng-show="track.watchers">{{track.watchers}}</span></td>


                                                <td width="70px"><span ng-show="track.clients.length > 0">{{track.clients.length}}</span></td>
                                                <td width="70px"><span ng-show="track.servers.length > 0">{{track.servers.length}}</span></td>

                                                <td width="70px"><span ng-show="track.results.total">{{track.results.total}}</span></td>

                                            </tr>
                                            <tr><th></th><th>{{eventReport.totalPersons}}</th><th>{{eventReport.totalWatchers}}</th><th></th>
                                                <th></th><th>{{eventReport.totalResults}}</th></tr>
                                        </table>
                                        -->



                                    </div>
                                </div>
                                <div class="col-md-6 col-sm-6">

                                    <div ng-hide="input.partTrack">
                                        Select a Track in the table to view the participants
                                    </div>

                                    <div ng-show="input.partTrack">
                                        <div class="banner">{{input.partTrack.name}}</div>

                                        <strong>Participants</strong>

                                        <ul>
                                            <li ng-repeat="person in input.partTrack.personsList">
                                                {{person.name}}
                                            </li>
                                            <li ng-repeat="person in input.partTrack.watchersList">
                                                {{person.name}}
                                            </li>

                                        </ul>

                                        <!--

                                        <h4>Primary Participants
                                            <span ng-show="input.partTrack.personsList.length > 0" class="badge">
                                        {{input.partTrack.personsList.length}}</span>
                                        </h4>
                                        <ul>
                                            <li ng-repeat="person in input.partTrack.personsList">
                                                {{person.name}}
                                            </li>
                                        </ul>

                                        <h4>Watchers
                                            <span ng-show="input.partTrack.watchersList.length > 0" class="badge">
                                        {{input.partTrack.watchersList.length}}</span>
                                        </h4>
                                        <ul>
                                            <li ng-repeat="person in input.partTrack.watchersList">
                                                {{person.name}}
                                            </li>
                                        </ul>

                                        <h4>Clients (from testing)
                                            <span ng-show="input.partTrack.clients.length > 0" class="badge">
                                        {{input.partTrack.clients.length}}</span>
                                        </h4>
                                        <ul>
                                            <li ng-repeat="client in input.partTrack.clients">
                                                {{client.client.name}} ({{client.client.contact[0].name}})

                                            </li>
                                        </ul>

                                        <h4>Servers (from testing)
                                            <span ng-show="input.partTrack.servers.length > 0" class="badge">
                                        {{input.partTrack.servers.length}}</span>
                                        </h4>
                                        <ul>
                                            <li ng-repeat="server in input.partTrack.servers">
                                                {{server.server.name}} ({{server.server.contact[0].name}})
                                            </li>
                                        </ul>
-->
                                    </div>

                                    <!--                         <pre>
                                                                 {{input.partTrack | json}}
                                                             </pre>
                                 -->

                                </div>
                            </div>
                        </uib-tab>
                        <uib-tab heading="Summary - Primary only">
                            <canvas id="participationBar" class="chart chart-horizontal-bar" chart-options="barOptions"
                                    chart-data="partChartData" chart-labels="partChartLabels">
                            </canvas>


                        </uib-tab>
                        <uib-tab heading="Summary - Primary and watchers">
                            <canvas id="participationBarAll" class="chart chart-horizontal-bar" chart-options="barOptions"
                                    chart-data="partChartDataAll" chart-labels="partChartLabelsAll">
                            </canvas>


                        </uib-tab>
                    </uib-tabset>




                </uib-tab>




            </uib-tabset>

        </div>


    </div>


    <div ng-show="noEventCode">
        <h3>No event was specified!</h3>
        <br/>
        <p>You need to specify the connectathon event code that you want in the url. For example:</p>
        <strong>
            http://conman.fhir.org/connectathon.html?event=mihin18
        </strong>
        <br/> <br/>
        <p>Would indicate the MiHIN 2018 Connectathon. If you don't know what the event code is, you'll
        need to contact the connectathin organizer.</p>
    </div>




</div>

</body>
</html>